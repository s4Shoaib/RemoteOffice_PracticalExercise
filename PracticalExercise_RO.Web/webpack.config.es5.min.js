"use strict";var path=require("path"),webpack=require("webpack"),VueLoaderPlugin=require("vue-loader/lib/plugin"),MiniCssExtractPlugin=require("mini-css-extract-plugin"),OptimizeCssAssetsPlugin=require("optimize-css-assets-webpack-plugin"),UglifyJsPlugin=require("uglifyjs-webpack-plugin"),bundleOutputDir=path.resolve(__dirname,"./wwwroot/"),sourcePath=path.resolve(__dirname,"./VueComponents/"),nodemodulesPath=path.resolve(__dirname,"./node_modules/");module.exports=function(n){var t=n.NODE_ENV==="development";return console.log(t?"This is DEV build":"This is PROD build"),{entry:["./VueComponents/registerVue.js","./SCSS/site.scss"],output:{path:bundleOutputDir,filename:"js/site.bundle.js"},optimization:{minimizer:[new UglifyJsPlugin({cache:!0,parallel:!0,sourceMap:!0}),new OptimizeCssAssetsPlugin({})]},plugins:[new webpack.DefinePlugin({"process.env":{NODE_ENV:t?'"development"':'"production"'}}),new VueLoaderPlugin,new UglifyJsPlugin({test:/\.js(\?.*)?$/i,uglifyOptions:{warnings:!1,parse:{},compress:{},mangle:!0,output:null,toplevel:!1,nameCache:null,ie8:!1,keep_fnames:!1},extractComments:!1}),new MiniCssExtractPlugin({filename:"./css/site.bundle.css",publicPath:"./wwwroot/css"}),new OptimizeCssAssetsPlugin({assetNameRegExp:/\.css$/,cssProcessor:require("cssnano"),cssProcessorPluginOptions:{preset:["default",{discardComments:{removeAll:!0}}]},canPrint:!0})],module:{rules:[{test:/\.vue$/,loader:"vue-loader",include:sourcePath},{test:/\.js$/,loader:"babel-loader",include:sourcePath,exclude:nodemodulesPath,options:{presets:["env"]}},{test:/\.scss$/,use:[{loader:MiniCssExtractPlugin.loader},{loader:"css-loader"},{loader:"sass-loader"}]}]},resolve:{alias:{vue$:path.resolve(__dirname,"node_modules/vue/dist/vue.common.js")},extensions:["*",".js",".vue",".json"]},performance:{hints:!1},devtool:t?"#eval-source-map":""}};